## å¼€å‘å°ç»†èŠ‚

#### è§£é™¤å†’æ³¡
```
e.stopPropagation(); // å†’æ³¡
e.preventDefault(); // æ•è·
```

#### æ•°ç»„-å­—ç¬¦ä¸²è½¬åŒ–
```
[1,2,3,4,5].join(',');
// 1,2,3,4,5

'1,2,3,4,5'.split(',')
[1,2,3,4,5]
```

#### a æ ‡ç­¾
```
// rel
rel="noopener noreferrer"

// å»ä¸‹åˆ’çº¿
a { text-decoration: none; }
a:focus {
	text-decoration: none !important;
}
```

#### å•è¡Œçœç•¥

```
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
```

#### è¶…å‡ºçœç•¥
```
display: -webkit-box;
-webkit-line-clamp: 1;
overflow: hidden;
text-overflow: ellipsis;
-webkit-box-orient: vertical;
word-break: break-all;
```

#### css æ¢è¡Œ
```
word-break:break-all;åªå¯¹è‹±æ–‡èµ·ä½œç”¨ï¼Œä»¥å­—æ¯ä½œä¸ºæ¢è¡Œä¾æ®
word-wrap:break-word; åªå¯¹è‹±æ–‡èµ·ä½œç”¨ï¼Œä»¥å•è¯ä½œä¸ºæ¢è¡Œä¾æ®
white-space:pre-wrap; åªå¯¹ä¸­æ–‡èµ·ä½œç”¨ï¼Œå¼ºåˆ¶æ¢è¡Œ
white-space:nowrap; å¼ºåˆ¶ä¸æ¢è¡Œï¼Œéƒ½èµ·ä½œç”¨
white-space:nowrap; overflow:hidden; text-overflow:ellipsis;ä¸æ¢è¡Œï¼Œè¶…å‡ºéƒ¨åˆ†éšè—ä¸”ä»¥çœç•¥å·å½¢å¼å‡ºç°ï¼ˆéƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼‰
```

#### imgå›¾åƒè‡ªé€‚åº”å±…ä¸­

```
object-fit: cover;
```

#### æ–‡æ¡ˆä¸¤ç«¯å¯¹é½
```
div {
    margin: 10px 0;
    width: 100px;
    border: 1px solid red;
    text-align-last: justify;
}
```

#### form æ¸…ç©ºç¼“å­˜

> å¯ä»¥å¯¹è¡¨å•å…ƒç´ è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥å¯¹ form æ ‡ç­¾è¿›è¡Œè®¾ç½®

```
autocomplete='off'
```

#### è‹±è¯­-æœˆä»½

|æœˆä»½|å…¨ç§°|ç®€ç§°|
|:--:|:--:|:--:|
|1| January | Jan |
|2| February | Feb |
|3| March | Mar |
|4| April | Apr |
|5| May | May |
|6| June | Jun |
|7| July | Jul |
|8| August | Aug |
|9| September | Sep |
|10| October | Oct |
|11| November | Nov |
|12| December | Dec |

#### å­—ç¬¦ç¼–ç 

```
escape() // ç¼–ç 
decodeURIComponent() // è§£ç 
```

#### åˆ›å»ºæŒ‡å®šä½æ•°çš„æ•°ç»„ï¼Œå¹¶å¡«å……

```
new Array(10).fill(0)
```

#### æ•°ç»„å­—ç¬¦ä¸² -> å­—ç¬¦ä¸²è‹±æ–‡é€—å·éš”å¼€

```
[1,2,3,4,5,6].toLocaleString();
```

#### antd-Form çš„ å¼€å§‹æ—¶é—´ä¸ç»“æŸæ—¶é—´æ ¡éªŒ

```
// å¼€å§‹æ—¶é—´ä¸ç»“æŸæ—¶é—´çš„æ¯”è¾ƒ
momentCompare = (callback) => {
    const values = this.props.form.getFieldsValue(['prodDate', 'effectTime']);
    const { prodDate, effectTime } = values;

    if (prodDate && effectTime) {
      const start = moment(prodDate).valueOf();
      const end = moment(effectTime).valueOf();

      if (start <= end) {
        return callback('ç”Ÿäº§æ—¥æœŸåº”è¯¥å¤§äºç”Ÿæ•ˆæ—¥æœŸ');
      } else {
        this.props.form.setFields({
          prodDate: { value: prodDate, errors: null },
          effectTime: { value: effectTime, errors: null },
        });
      }
    }
  };
```

#### DatePicker.RangePicker ç»„ä»¶çš„æ—¶é—´é™åˆ¶

```
<DatePicker.RangePicker
  disabledDate={(current) => {
    if (current) {
      // åœ¨æŒ‡å®šæ—¥æœŸèŒƒå›´å†…é€‰æ‹©
      return current < moment('2019-06-06') || current > moment('2019-11-11');
    }
  }}
/>
```

#### moment

```
// è¿‡å» n å¤©
moment().add(-n, 'day');

// æ˜¨å¤©
moment().add(-1, 'day');
```

#### flex å¯¹é½

- justify-contentï¼Œæ°´å¹³æ–¹å‘
	
	```
	flex-startï¼šå·¦å¯¹é½
	flex-endï¼šå³å¯¹é½
	centerï¼šå±…ä¸­å¯¹é½
	space-betweenï¼šä¸¤ç«¯å¯¹é½
	space-aroundï¼šæ²¿è½´çº¿å‡åŒ€åˆ†å¸ƒ
	```
	
#### react é«˜é˜¶ç»„ä»¶

```
import React from 'react';

const setTitle = (title) => (WrappedComponent) => {
  return class extends React.Component {
    componentDidMount() {
      document.title = title
    }
    render() {
      return <WrappedComponent {...this.props} aaa="aaa" />
    }
  }
};
	
export default setTitle;
```

#### ä¿®æ”¹åœ°å€æ 

```
export function historyState(url = `${window.location.origin}${window.location.pathname}`, isBack = false) {
  window.history[isBack ? 'pushState' : 'replaceState'](Date.now(),'', url);
}
```

#### ä»£ç è¡Œæ•°ç»Ÿè®¡

```
find . -name â€œ*.jsâ€|xargs cat|grep -v -e ^$ -e ^\s*\/\/.*$|wc -l
```

#### è®¾å¤‡é€‚é…

- è®¾è®¡å›¾é¡µé¢å®½åº¦ï¼š1920
- html { font-size: 100px }

```
// å½“ å±å¹•å°äº 375 æ—¶
@media screen and (max-width: 375px){
  html {
    font-size: 19.53125px !important;
  }
}
```

### ç§»åŠ¨ç«¯-meta

```
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
```

#### å…ƒç´ å¯ç¼–è¾‘

> è¯·æŸ¥çœ‹ contentEditable çš„å…¼å®¹æ€§

```
<div contentEditable="true">22222</div>
```

#### react-initial

```
// åŸç† --> [].toString() = ""ï¼›[{}].toString() = ['object' 'object']
componentWillReceiveProps(nextProps) {
	if (this.props.initial && nextProps.initial) {
	  if (this.props.initial.toString() !== nextProps.initial.toString()) {
	    this.setState({
	      // fileList: nextProps.initialFiles,
	    })
	  }
	}
}
```

#### è¾¹æ¡†é˜´å½±

```
box-shadow: 2px 0 8px rgba(0,0,0,0.2);
```

#### chart

è·å– chart å¯¹è±¡

```
<Chart
  onGetG2Instance={(chart) => {
    this.chart = chart;
  }}
>
  ...
</Chart>
```

#### å­—ç¬¦ä¸²è¡¥é½

```
// å‰è¡¥é½
const a = '7';
a.padStart(4, '0'); // '0007'

// åè¡¥é½
const a = '7';
a.padEnd(4, '0'); // '7000'
```

#### æ—¥æœŸè½¬æ¯«ç§’æ•°

```
// å½“å‰æ—¶é—´æ¯«ç§’æ•°
Date.parse(new Date());

// æŒ‡å®šæ—¥æœŸçš„æ¯«ç§’æ•°
Date.parse('YYYY-MM-DD');
```

#### cssæ–‡æœ¬é—´è·

```
letter-spacing: .6px;
```

#### emoji æ­£åˆ™

```
var regRule = /\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;
'ğŸ˜ˆ'.match(regRule);
```

#### React.Fragment æ ‡ç­¾åˆ¤æ–­

```
// å¦‚ react å¯¹è±¡
{
  $$typeof: Symbol(react.element),
  key: null,
  props: { children: Array(2) },
  type: Symbol(react.fragment),
}

React.isValidElement(ele) && ele.type === React.Fragment
```

#### symbol åˆ¤æ–­

```
// å¦‚ react å¯¹è±¡
{
  $$typeof: Symbol(react.element),
  key: null,
  props: { children: Array(2) },
  type: Symbol(react.fragment),
}

// element æŒ‡ä¸Šé¢çš„å¯¹è±¡
(typeof element.type === 'symbol') && element.type.description === 'react.fragment'
```

#### flex å¸ƒå±€ä¸‹ overflow å¤±æ•ˆ

> å°† auto è‡ªé€‚åº”çš„ width è®¾ç½®æˆ 0

```
.container {
  display: flex;
}
.left {
  flex: 1;
  overflow: auto;
  width: 0;
}
.right {
  width: 500px;
}
```

#### debounce

```
function debounce(fn, time) {
  // å®šæ—¶å™¨ï¼Œç”¨æ¥ setTimeout
  let timer;
  // è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨ä¸€ä¸ªæ—¶é—´åŒºé—´ç»“æŸåçš„ delay æ¯«ç§’æ—¶æ‰§è¡Œ fn å‡½æ•°
  return function() {
    // ä¿å­˜å‡½æ•°è°ƒç”¨æ—¶çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°ï¼Œä¼ é€’ç»™ fn
    const context = this;
    // eslint-disable-next-line
    const args = arguments;

    // æ¯æ¬¡è¿™ä¸ªè¿”å›çš„å‡½æ•°è¢«è°ƒç”¨ï¼Œå°±æ¸…é™¤å®šæ—¶å™¨ï¼Œä»¥ä¿è¯ä¸æ‰§è¡Œ fn
    clearTimeout(timer);

    // å½“è¿”å›çš„å‡½æ•°è¢«æœ€åä¸€æ¬¡è°ƒç”¨åï¼ˆä¹Ÿå°±æ˜¯ç”¨æˆ·åœæ­¢äº†æŸä¸ªè¿ç»­çš„æ“ä½œï¼‰ï¼Œ
    // å†è¿‡ time æ¯«ç§’å°±æ‰§è¡Œ fn
    timer = setTimeout(() => {
      fn.apply(context, args);
    }, time)
  }
}
```

#### dva

> effects ä¸­ callback å’Œ select çš„ä½¿ç”¨ã€‚

```
export default {
  namespace: 'global',
  state: {
    data: {},
    tcgData: [],
  },
  effects: {
    *query({ payload, callback }, { call, put, select }) {
      const res = yield call(fetch, payload);
      
      yidld put({
        type: 'setData',
        payload: {
          data: res.dataObject,
        },
      })
      
      const state = yield select(state => state.global); // è·å–è‡ªå·±æˆ–å…¶ä»– namespace çš„æ•°æ®
      callback && callback(); // å›è°ƒå‡½æ•°
    },
  },
  reducers: {
    setData(state, { payload }) {
      return { ...state, ...payload };
    },
  },
}
```

> use çš„ä½¿ç”¨

```
import { useSelector, useDispatch } from 'dva';

const tcgDataMaster = useSelector(({ global }) => global.tcgDataMaster);
const dispatch = useDispatch();
```

> loading çš„ä½¿ç”¨

```
@connect((state) => ({
  loading: state.loading.effects[`${namespace}/QueryList`],
}))
```

#### åŠ¨ç”»

```
transition: all .3s ease-in;
-moz-transition: all .3s ease-in;
-webkit-transition: all .3s ease-in;
```

#### h5 é˜²ç©¿é€

```
onTouchEnd={(e) => {
  e.stopPropagation(); // å†’æ³¡
  e.preventDefault(); // æ•è·
  // todo
}}
```

#### è·å–æ–‡ä»¶ååç¼€

```
'aaa.jpg'.replace(/.+\./, "")
```

#### iconfont è‡ªå®šä¹‰ Antd.Icon ç»„ä»¶

```
import React from 'react';
import { Icon } from 'antd';

const MyIcon = Icon.createFromIconfontCN({
  scriptUrl: '//at.alicdn.com/t/font_1325487_9gwoheo6lhq.js',
});

const menuData = [
  {
    name: 'åŸç‰©æ–™ç®¡ç†',
    icon: <MyIcon type="icon-icon-p_wuliaozu" />,
    children: [
      {
        name: 'ç ”ç©¶æ€§åŸæ–™',
        url: 'mrRelease',
      }, {
        name: 'ç”Ÿäº§æ€§åŸæ–™',
        url: 'mpRelease',
      },
    ],
  }, {
    name: 'ç ”å‘å·¥ä½œå°',
    icon: <MyIcon type="icon-yanfa" />,
    children: [
      {
        name: 'ç¨³å®šå‰‚ç ”å‘',
        url: 'rdRelease',
      }, {
        name: 'ç»ˆç«¯äº§å“ç ”å‘',
        url: 'rdpRelease',
      },
    ],
  }, {
    name: 'äº§å“ç®¡ç†',
    icon: <MyIcon type="icon-chanpin" />,
    children: [
      {
        name: 'ç¨³å®šå‰‚äº§å“',
        url: 'spRelease',
      }, {
        name: 'ç»ˆç«¯äº§å“',
        url: 'tpRelease',
      },
    ],
  }, {
    name: 'é—®é¢˜ç®¡ç†',
    url: 'issues',
    icon: <MyIcon type="icon-wentiguanli" />,
  },{
    name: 'æ•°æ®å­—å…¸',
    url: 'map',
    icon: <MyIcon type="icon-shujuzidian1" />,
  },
];

export default menuData;

```

#### react-hook çš„ ref ä¼ é€’

> å…³é”® APIï¼šforwardRefï¼ŒuseImperativeHandleï¼ŒuseRef

```
// demo.js
import React, { forwardRef, useImperativeHandle } from 'react';

export default forwardRef((props, ref) => {
  const queryList = () => {
    // ä½ çš„ä¸šåŠ¡ä»£ç ã€‚
  };
  
  // å°† queryList æš´éœ²ç»™çˆ¶ç»„ä»¶
  useImperativeHandle(ref, () => ({
    queryList,
  }));
  
  return (
    <dev>****</dev>
  )
})

// index.js
import React, { useRef, useEffect } from 'react';
import Demo from './demo.js'

export default (props) => {
  const demoRef = useRef();
  
  useEffect(() => {
    demoRef.current.queryList(); // è°ƒç”¨ Demo ç»„ä»¶çš„çš„æ–¹æ³•
  }, [])
  
  return (
    <Demo ref={demoRef} />
  )
}
```

#### æ”¯æŒ textarea è¾“å‡º

> è®¾ç½®æ ·å¼ white-space

|å€¼|æè¿°|
|---|---|
| normal |æ­£å¸¸æ— å˜åŒ–|
| pre |ä¿æŒHTMLæºä»£ç çš„ç©ºæ ¼ä¸æ¢è¡Œ,ç­‰åŒä¸preæ ‡ç­¾|
| nowrap |å¼ºåˆ¶æ–‡æœ¬åœ¨ä¸€è¡Œ,é™¤éé‡åˆ°bræ¢è¡Œæ ‡ç­¾|
|pre-wrap|åŒpreå±æ€§,ä½†æ˜¯é‡åˆ°è¶…å‡ºå®¹å™¨èŒƒå›´çš„æ—¶å€™ä¼šè‡ªåŠ¨æ¢è¡Œ |
|pre-line|åŒpreå±æ€§,ä½†æ˜¯é‡åˆ°è¿ç»­ç©ºæ ¼ä¼šè¢«çœ‹ä½œä¸€ä¸ªç©ºæ ¼|

#### FormItemä¸‹ä½¿ç”¨ Upload ç»„ä»¶æŠ¥é”™é—®é¢˜

> ä¸šåŠ¡åœºæ™¯ï¼šé€‰ä¸­æ–‡ä»¶åï¼Œå†åˆ é™¤æ–‡ä»¶æ—¶ï¼Œæ­¤æ—¶ form ä¼šè·å–åˆ° {file, fileList}ï¼Œé€ æˆæ–‡ä»¶åˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œform ä¹Ÿä¸ä¼šæœ‰éç©ºæ ¡éªŒã€‚è®¾ç½®ä»¥ä¸‹ä¿¡æ¯åï¼Œå°±ä¼šæ­£å¸¸ã€‚

```
decoratorOptions={{
  valuePropName: 'fileList',
  getValueFromEvent: e => (!e || !e.fileList) ? e : e.fileList,
}}
```

#### åˆ¤æ–­ç©ºå¯¹è±¡

> åˆ¤æ–­ {} æ˜¯å¦ä¸ºç©ºå¯¹è±¡

```
Object.getOwnPropertyNames(obj).length === 0
```

### <span style="color: red">æ³¨æ„çš„ç»†èŠ‚</span>

1. transition éœ€è¦æ˜ç¡®çŸ¥é“ï¼Œå¼€å§‹çŠ¶æ€å’Œç»“æŸçŠ¶æ€çš„å…·ä½“æ•°å€¼ï¼Œæ‰èƒ½è®¡ç®—å‡ºä¸­é—´çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œheightä»0pxå˜åŒ–åˆ°100pxï¼Œtransitionå¯ä»¥ç®—å‡ºä¸­é—´çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œtransitionæ²¡æ³•ç®—å‡º0pxåˆ°autoçš„ä¸­é—´çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¼€å§‹æˆ–ç»“æŸçš„è®¾ç½®æ˜¯height: autoï¼Œé‚£ä¹ˆå°±ä¸ä¼šäº§ç”ŸåŠ¨ç”»æ•ˆæœã€‚ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰ï¼Œdisplay: noneåˆ°blockï¼Œbackground: url(foo.jpg)åˆ°url(bar.jpg)ç­‰ç­‰ã€‚
2. åœ¨ä½¿ç”¨ React.Children.map() æ—¶ï¼Œkey çš„å€¼æœ‰å¯èƒ½ä¼šè¢«æ›¿æ¢ã€‚è¯¦è§æºç ä¸­çš„æ–¹æ³• `cloneAndReplaceKey`ã€‚ map æ–¹æ³•ä¼šæŠŠå¤šå±‚åµŒå¥—çš„æ•°ç»„ç»è¿‡é€’å½’å¤„ç†åå±•å¹³ã€‚
3. useCallback åœ¨ onChange ä¸­ä½¿ç”¨æ—¶ï¼Œè®¾ç½®ç¬¬äºŒä¸ªå‚æ•°ä¼šæ— æ•ˆï¼Œè¿˜æ˜¯èƒ½æ‰§è¡Œ onChange äº‹ä»¶
4. input æ ‡ç­¾çš„ type=number æ—¶ï¼Œmaxlength å¤±æ•ˆã€‚åœ¨ç§»åŠ¨ç«¯æ—¶å¯ä½¿ç”¨ type=tel ä»£æ›¿ã€‚tel åœ¨ IOS ä¸Šä¼šæœ‰è¾“å…¥æ¡†é˜´å½±ï¼Œå¯ä½¿ç”¨ css `-moz-appearance: none; -webkit-appearance: none;` å»æ‰ã€‚

	```
	onChange={useCallback(() => {console.log(1)}, [])}
	```
5. æ­£åˆ™ä¸­å°æ‹¬å·()å†…çš„æ˜¯æ•´ä½“ï¼Œä¸­æ‹¬å·[]å†…çš„æ˜¯åŒ¹é…å…¶ä¸­ä¸€ä¸ªã€‚

    ```
    // ä»¥ä¸‹ä¸¤ç§è§„åˆ™æ˜¯ç›¸åŒæ•ˆæœ
    const phoneReg = /^1(2|3|4)\d{9}$/;
    const phoneReg2 = /^1[234]\d{9}$/;
    ```
    
6. èº«ä»½è¯ä¿¡æ¯ç 
    - 1-2ä½ï¼šçœçº§ç¼–ç 
    - 3-4ä½ï¼šå¸‚çº§ç¼–ç 
    - 5-6ä½ï¼šå¿çº§ç¼–ç 
    - 7-14ä½ï¼šå‡ºç”Ÿæ—¥æœŸ
    - 15-18ä½ï¼šå½“å¤©çš„æ–°ç”Ÿå„¿æ’åºï¼Œå…¶ä¸­ç¬¬17ä½å•æ•°æ˜¯ç”·æ€§ã€åŒæ•°æ˜¯å¥³æ€§ã€‚
	
### çŸ¥è¯†ç‚¹

1. [å †æ ˆé˜Ÿåˆ—](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)
